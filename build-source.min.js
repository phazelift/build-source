(function(){"use strict";var t,r,n,s,o,i=[].slice,e=[].indexOf||function(t){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===t)return r;return-1};r=require("gulp"),o=require("words.js"),n=function(t,r){return""!==o.forceString(r)&&(t=o.flexArgs(t),t=t.map(function(t){return Strings.startsWith(t,s.noRoot)?Strings.removePos(t,1):r+t})),t},s=function(t){return t?r.src(n(t,s.root)):void 0},s.root="source/",s.noRoot="^",s.watchable=function(r){return!(t.tasks.ignored(r)||"watch"===r)},s.watcher={},s.watch=function(t){var o,i,e;e=[];for(i in t)o=t[i],e.push(s.watchable(o)?s.watcher[i]=r.watch(n(i,s.root),o):void 0);return e},s.watchAll=function(){var r,n,o,i;o={},i=t.task;for(r in i)n=i[r],n.src&&(null!=o[n.src]?o[n.src].push(r):o[n.src]=[r]);return s.watch(o)},t=function(n){return function(e,a){var u,c,l,f,h,k;for(c=s(e),f=0,h=a.length;h>f;f++)l=a[f],l&&(o.notFunction(l)?(k=l,l=k[0],u=2<=k.length?i.call(k,1):[],c=c.pipe(l.apply(this,u))):c=c.pipe(l()));return c.pipe(r.dest(t.root+n))}},t.root="build/",t.task={},t.tasks=function(n){var s,e,a;a=[];for(s in n)e=n[s],a.push(function(n,s){var e,a,u;return o.isFunction(s)?(t.task[n]=s,r.task(n,s)):o.isArray(s)?(u=s[0],e=s[1],a=3<=s.length?i.call(s,2):[],t.task[n]=function(){return t(e)(u,a)},t.task[n].src=u,t.task[n].dest=e,t.task[n].plugs=a,r.task(n,t.task[n])):void 0}(s,e));return a},t.tasks.ignore=[],t.tasks.ignored=function(r){return e.call(t.tasks.ignore,r)>=0||"default"===r},t.tasks.startAll=function(){var n,s;s=[];for(n in t.task)t.tasks.ignored(n)||s.push(n);return r.start(s)},t.source=s,module.exports=[t,s]}).call(this);