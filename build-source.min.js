(function(){"use strict";var t,r,n,s,o,a,e=[].slice,i=[].indexOf||function(t){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===t)return r;return-1};n=require("gulp"),a=require("words.js"),t=a.Strings,s=function(r,n){return""!==a.forceString(n)&&(r=a.flexArgs(r),r=r.map(function(r){return t.startsWith(r,o.noRoot)?t.removePos(r,1):n+r})),r},o=function(t){return t?n.src(s(t,o.root)):void 0},o.root="source/",o.noRoot="^",o.watchable=function(t){return!(r.tasks.ignored(t)||"watch"===t)},o.watcher={},o.watch=function(t){var r,a,e;e=[];for(a in t)r=t[a],e.push(o.watchable(r)?o.watcher[a]=n.watch(s(a,o.root),r):void 0);return e},o.watchAll=function(){var t,n,s,a;s={},a=r.task;for(t in a)n=a[t],n.src&&(null!=s[n.src]?s[n.src].push(t):s[n.src]=[t]);return o.watch(s)},r=function(t){return function(s,i){var u,c,l,f,h,k;for(c=o(s),f=0,h=i.length;h>f;f++)l=i[f],l&&(a.notFunction(l)?(k=l,l=k[0],u=2<=k.length?e.call(k,1):[],c=c.pipe(l.apply(this,u))):c=c.pipe(l()));return c.pipe(n.dest(r.root+t))}},r.root="build/",r.task={},r.tasks=function(t){var s,o,i;i=[];for(s in t)o=t[s],i.push(function(t,s){var o,i,u;return a.isFunction(s)?(r.task[t]=s,n.task(t,s)):a.isArray(s)&&(u=s[0],o=s[1],i=3<=s.length?e.call(s,2):[],r.task[t]=function(){return r(o)(u,i)},r.task[t].src=u,r.task[t].dest=o,r.task[t].plugs=i,n.task(t,r.task[t])),r.tasks.all.push(t)}(s,o));return i},r.tasks.all=[],r.tasks.ignore=[],r.tasks.ignored=function(t){return i.call(r.tasks.ignore,t)>=0||"default"===t},r.tasks.startAll=function(){var t,s,o,a,e;for(s=[],e=r.tasks.all,o=0,a=e.length;a>o;o++)t=e[o],r.tasks.ignored(t)||s.push(t);return n.start(s)},r.source=o,module.exports=[r,o]}).call(this);