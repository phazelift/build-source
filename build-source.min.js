(function(){"use strict";var t,r,n,s,o,i,e=[].slice,a=[].indexOf||function(t){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===t)return r;return-1};n=require("gulp"),i=require("words.js"),t=i.Strings,s=function(r,n){return""!==i.forceString(n)&&(r=i.flexArgs(r),r=r.map(function(r){return t.startsWith(r,o.noRoot)?t.removePos(r,1):n+r})),r},o=function(t){return t?n.src(s(t,o.root)):void 0},o.root="source/",o.noRoot="^",o.watchable=function(t){return!(r.tasks.ignored(t)||"watch"===t)},o.watcher={},o.watch=function(t){var r,i,e;e=[];for(i in t)r=t[i],e.push(o.watchable(r)?o.watcher[i]=n.watch(s(i,o.root),r):void 0);return e},o.watchAll=function(){var t,n,s,i;s={},i=r.task;for(t in i)n=i[t],n.src&&(null!=s[n.src]?s[n.src].push(t):s[n.src]=[t]);return o.watch(s)},r=function(t){return function(s,a){var u,c,l,f,h,k;for(c=o(s),f=0,h=a.length;h>f;f++)l=a[f],l&&(i.notFunction(l)?(k=l,l=k[0],u=2<=k.length?e.call(k,1):[],c=c.pipe(l.apply(this,u))):c=c.pipe(l()));return c.pipe(n.dest(r.root+t))}},r.root="build/",r.task={},r.tasks=function(t){var s,o,a;a=[];for(s in t)o=t[s],a.push(function(t,s){var o,a,u;return i.isFunction(s)?(r.task[t]=s,n.task(t,s)):i.isArray(s)?(u=s[0],o=s[1],a=3<=s.length?e.call(s,2):[],r.task[t]=function(){return r(o)(u,a)},r.task[t].src=u,r.task[t].dest=o,r.task[t].plugs=a,n.task(t,r.task[t])):void 0}(s,o));return a},r.tasks.ignore=[],r.tasks.ignored=function(t){return a.call(r.tasks.ignore,t)>=0||"default"===t},r.tasks.startAll=function(){var t,s;s=[];for(t in r.task)r.tasks.ignored(t)||s.push(t);return n.start(s)},r.source=o,module.exports=[r,o]}).call(this);