(function(){"use strict";var t,r,n,s,a,u=[].slice,i=[].indexOf||function(t){for(var r=0,n=this.length;n>r;r++)if(r in this&&this[r]===t)return r;return-1};r=require("gulp"),a=require("words.js"),n=function(t,r){return""!==a.forceString(r)&&(t=a.flexArgs(t),t=t.map(function(t){return r+t})),t},s=function(t){return t?r.src(n(t,s.root)):void 0},s.root="source/",s.watchable=function(r){return!(t.tasks.ignored(r)||"watch"===r)},s.watch=function(t){var n,a,u;u=[];for(a in t)n=t[a],u.push(s.watchable(n)?s.watch[a]=r.watch(s.root+a,n):void 0);return u},s.watch.tasks={},s.watch.addTask=function(t,r){return s.watch.tasks.hasOwnProperty(r)?s.watch.tasks[r].push(t):r?s.watch.tasks[r]=[t]:void 0},s.watchAll=function(){return s.watch(s.watch.tasks)},t=function(n){return function(i,o){var e,c,l,h,k,f;for(c=s(i),h=0,k=o.length;k>h;h++)l=o[h],l&&(a.notFunction(l)?(f=l,l=f[0],e=2<=f.length?u.call(f,1):[],c=c.pipe(l.apply(this,e))):c=c.pipe(l()));return c.pipe(r.dest(t.root+n))}},t.root="build/",t.task={},t.tasks=function(n){var i,o,e;e=[];for(i in n)o=n[i],e.push(function(n,i){var o,e,c;return a.isFunction(i)?(t.task[n]=i,r.task(n,i)):a.isArray(i)&&(c=i[0],o=i[1],e=3<=i.length?u.call(i,2):[],t.task[n]=function(){return t(o)(c,e)},t.task[n].src=c,t.task[n].dest=o,t.task[n].plugs=e,r.task(n,t.task[n]),s.watch.addTask(n,c)),t.tasks.add(n)}(i,o));return e},t.tasks.ignore=[],t.tasks.ignored=function(r){return i.call(t.tasks.ignore,r)>=0||"default"===r},t.tasks.all=[],t.tasks.add=function(r){return t.tasks.ignored(r)?void 0:t.tasks.all.push(r)},t.tasks.run=function(){return r.start(t.tasks.all)},module.exports=[t,s]}).call(this);